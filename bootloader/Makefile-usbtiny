# ======================================================================
# Makefile for usbtiny based xu1541 bootloader
#
# Copyright (C) 2006 Till Harbaum
#
# This is free software, licensed under the terms of the GNU General
# Public License as published by the Free Software Foundation.
# ======================================================================
BOOTLOADER_ADDRESS = 1800
LDFLAGS += -Wl,--section-start=.text=$(BOOTLOADER_ADDRESS)
USBTINY         = ./usbtiny
TARGET_ARCH     = -DF_CPU=12000000 -DAVR -DUSBTINY -mmcu=atmega8
OBJECTS         = main.o
CABLE           = stk200
#CABLE           = usbasp
AVRDUDE         = avrdude
#AVRDUDE         = sudo /usr/local/avr/bin/avrdude
FLASH           = $(AVRDUDE) -c $(CABLE) -p atmega8 -U lfuse:w:0x9f:m -U hfuse:w:0xc8:m -U flash:w:bootldr-usbtiny.hex
STACK           = 32
FLASHSIZE       = 8192
RAMSIZE         = 1024

include $(USBTINY)/common.mk
